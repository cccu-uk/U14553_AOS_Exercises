<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Continous Deployment - AOS Exercises</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Bourne Again SHell</li><li class="chapter-item expanded "><a href="../Shell/shell.html"><strong aria-hidden="true">1.</strong> Shell</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Shell/installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../Shell/introducing_shell.html"><strong aria-hidden="true">1.2.</strong> Introducing the Shell</a></li><li class="chapter-item expanded "><a href="../Shell/fileDir.html"><strong aria-hidden="true">1.3.</strong> Navigating File and Directories</a></li><li class="chapter-item expanded "><a href="../Shell/create.html"><strong aria-hidden="true">1.4.</strong> Working with FIles and Directories</a></li><li class="chapter-item expanded "><a href="../Shell/pipefilter.html"><strong aria-hidden="true">1.5.</strong> Pipes and Filters</a></li><li class="chapter-item expanded "><a href="../Shell/loops.html"><strong aria-hidden="true">1.6.</strong> Loop</a></li><li class="chapter-item expanded "><a href="../Shell/scripts.html"><strong aria-hidden="true">1.7.</strong> Scripts</a></li><li class="chapter-item expanded "><a href="../Shell/find.html"><strong aria-hidden="true">1.8.</strong> Finding Things</a></li><li class="chapter-item expanded "><a href="../Shell/reference.html"><strong aria-hidden="true">1.9.</strong> Summary of Basic Commands</a></li></ol></li><li class="chapter-item expanded "><a href="../Shell_Extras/introduction.html"><strong aria-hidden="true">2.</strong> Extra Shell</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Shell_Extras/manfiles.html"><strong aria-hidden="true">2.1.</strong> Manual Pages</a></li><li class="chapter-item expanded "><a href="../Shell_Extras/workremote.html"><strong aria-hidden="true">2.2.</strong> Working Remotely</a></li><li class="chapter-item expanded "><a href="../Shell_Extras/permissions.html"><strong aria-hidden="true">2.3.</strong> Permissions</a></li><li class="chapter-item expanded "><a href="../Shell_Extras/dirstruct.html"><strong aria-hidden="true">2.4.</strong> Working with Files and Directories</a></li><li class="chapter-item expanded "><a href="../Shell_Extras/jobs.html"><strong aria-hidden="true">2.5.</strong> Job Control</a></li><li class="chapter-item expanded "><a href="../Shell_Extras/aliases.html"><strong aria-hidden="true">2.6.</strong> Aliases and bash customisation</a></li><li class="chapter-item expanded "><a href="../Shell_Extras/shellvars.html"><strong aria-hidden="true">2.7.</strong> Shell Variables</a></li><li class="chapter-item expanded "><a href="../Shell_Extras/references.html"><strong aria-hidden="true">2.8.</strong> Summary of Commands</a></li></ol></li><li class="chapter-item expanded "><a href="../Shell_Style_Guide/shellstyleguide.html"><strong aria-hidden="true">3.</strong> Shell Style Guide</a></li><li class="chapter-item expanded affix "><li class="part-title">In-class Exercises</li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> System Statistics Script</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> RFC Logger Script</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Man page Example</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Scheduling</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Daemons</div></li><li class="chapter-item expanded affix "><li class="part-title">Git</li><li class="chapter-item expanded "><a href="../myFirstRepository/myFirstRepository.html"><strong aria-hidden="true">9.</strong> My First Repository</a></li><li class="chapter-item expanded "><a href="../BranchingModel/BranchingModel.html"><strong aria-hidden="true">10.</strong> Branching-Strategy</a></li><li class="chapter-item expanded "><a href="../OneFlow/OneFlow.html"><strong aria-hidden="true">11.</strong> Git Oneflow</a></li><li class="chapter-item expanded "><a href="../AntiPatterns/AntiPatterns.html"><strong aria-hidden="true">12.</strong> Anti Patterns</a></li><li class="chapter-item expanded "><a href="../ContinousDeployment/ContinousDeployment.html" class="active"><strong aria-hidden="true">13.</strong> Continous Deployment</a></li><li class="chapter-item expanded "><a href="../ReleaseDeployment/ReleaseDeployment.html"><strong aria-hidden="true">14.</strong> Release Deployment</a></li><li class="chapter-item expanded "><a href="../Migration/Migration.html"><strong aria-hidden="true">15.</strong> Migration</a></li><li class="chapter-item expanded affix "><li class="part-title">Operating Systems/ Virtual Machines</li><li class="chapter-item expanded "><a href="../OS/Introduction.html"><strong aria-hidden="true">16.</strong> OS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../OS/nixOS/nixOS.html"><strong aria-hidden="true">16.1.</strong> NixOS</a></li><li class="chapter-item expanded "><a href="../OS/arch/arch.html"><strong aria-hidden="true">16.2.</strong> Arch</a></li><li class="chapter-item expanded "><a href="../OS/RPIOS/rpios.html"><strong aria-hidden="true">16.3.</strong> Raspberry Pi OS</a></li><li class="chapter-item expanded "><a href="../OS/WindowsCoreIoT/WindowsCoreIoT.html"><strong aria-hidden="true">16.4.</strong> Windows Core IoT</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AOS Exercises</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/cccu-uk/U14553_AOS_Exercises/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/cccu-uk/U14553_AOS_Exercises/edit/master/src/ContinousDeployment/ContinousDeployment.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="continous-deployment"><a class="header" href="#continous-deployment">Continous Deployment</a></h1>
<p>Use this strategy for projects where features get deployed as soon as they're ready.</p>
<p>We follow the <a href="https://guides.github.com/introduction/flow/"><strong>GitHub flow</strong></a>
workflow as closely as possible. This page showcases common development scenarios
and how to deal with them from a branching point of view.</p>
<ul>
<li><a href="#continous-deployment">Continous Deployment</a>
<ul>
<li><a href="#branches-overview">Branches Overview</a></li>
<li><a href="#develop-a-new-feature">Develop a new feature</a></li>
<li><a href="#develop-multiple-features-in-parallel">Develop multiple features in parallel</a></li>
<li><a href="#production-hot-fix">Production hot fix</a></li>
<li><a href="#develop-in-a-platform-repo">Develop in a platform repo</a></li>
</ul>
</li>
</ul>
<h2 id="branches-overview"><a class="header" href="#branches-overview">Branches Overview</a></h2>
<div align=center>
<p><img src="./figures/continuous-overview.png" alt="Github flow workflow" /></p>
</div>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Branch</th><th style="text-align: left">Protected?</th><th style="text-align: left">Base Branch</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>master</code></td><td style="text-align: left">YES</td><td style="text-align: left">N/A</td><td style="text-align: left">What is live in production (<strong>stable</strong>).<br/>A pull request is required to merge code into <code>master</code>.</td></tr>
<tr><td style="text-align: left">feature</td><td style="text-align: left">NO</td><td style="text-align: left"><code>master</code></td><td style="text-align: left">Cutting-edge features (<strong>unstable</strong>). These branches are used for any maintenance features / active development.</td></tr>
<tr><td style="text-align: left"><code>hotfix-*</code></td><td style="text-align: left">NO</td><td style="text-align: left"><code>master</code></td><td style="text-align: left">These are bug fixes against production.<br/></td></tr>
</tbody></table>
</div>
<h2 id="develop-a-new-feature"><a class="header" href="#develop-a-new-feature">Develop a new feature</a></h2>
<div align=center>
<p><img src="./figures/continuous-new-feature.png" alt="Hotfix use rarely" /></p>
</div>
<ol>
<li>
<p>Create a feature branch based off of <code>master</code>.</p>
<pre><code>$ git checkout master
$ git checkout -b MYTEAM-123-new-documentation
$ git push --set-upstream MYTEAM-123-new-documentation
</code></pre>
</li>
<li>
<p>Develop the code for the new feature and commit as you go.</p>
<pre><code>$ ... make changes
$ git add -A .
$ git commit -m &quot;Add new documentation files&quot;
$ ... make more changes
$ git add -A .
$ git commit -m &quot;Fix some spelling errors&quot;
$ git push
</code></pre>
</li>
<li>
<p>Navigate to the project on <a href="www.github.com">Github</a> and open a pull request
with the following branch settings:</p>
<ul>
<li>Base: <code>master</code></li>
<li>Compare: <code>MYTEAM-123-new-documentation</code></li>
</ul>
</li>
<li>
<p>When the pull request has been reviewed and <img src="./figures/plus1.png" alt="+1'd" />
, merge and close it and then delete the <code>MYTEAM-123-new-documentation</code>
branch. This can all be done from the Github pull-request page.</p>
</li>
<li>
<p>Deploy <code>master</code> to a staging environment to verify (<em>some teams have this
automated, some prefer a manual deploy with some conventions, either is fine</em>).</p>
</li>
<li>
<p>If everything is good in staging, promote it to production and you're done.
If not, roll back production to the previous release and return to Step 1.</p>
</li>
</ol>
<h2 id="develop-multiple-features-in-parallel"><a class="header" href="#develop-multiple-features-in-parallel">Develop multiple features in parallel</a></h2>
<p>There's nothing special about that. Each developer follows the above
<a href="#develop-a-new-feature">Develop a new feature</a> process.</p>
<p>During development, make sure to update from <code>master</code> often so that when you
get ready to complete your feature you don't have to deal with large code
conflicts.</p>
<h2 id="production-hot-fix"><a class="header" href="#production-hot-fix">Production hot fix</a></h2>
<p><em>In rare situations you may need to get a fix into production fast! Use this
workflow to push a hotfix to production when you can't spare the time to
follow the standard 'Develop a feature' workflow.</em></p>
<div align=center>
<p><img src="./figures/continuous-hotfix.png" alt="Hotfix use rarely" /></p>
</div>
*This is very similar to how we [Develop a new feature](#develop-a-new-feature)
described above.*
<ol>
<li>
<p>Make sure your <code>master</code> branch is up-to-date</p>
<pre><code>$ git checkout master
$ git fetch
$ git merge origin/master
</code></pre>
</li>
<li>
<p>Create a hot fix branch based off of <code>master</code></p>
<pre><code>$ git checkout -b hotfix-documentation-broken-links
$ git push --set-upstream hotfix-documentation-broken-links
</code></pre>
</li>
<li>
<p>Add a test case to validate the bug, fix the bug, and commit
<em>When doing a hotfix you should at <em>least</em> pair on the fix with somebody or
review it in person with one other engineer before releasing it. We're
running without training wheels here and want to do our best not to have to
do a stream of hotfixes in production.</em></p>
<pre><code>... add test, fix bug, verify
$ git add -A .
$ git commit -m &quot;Fix broken links&quot;
$ git push
</code></pre>
</li>
<li>
<p>Navigate to the project on <a href="www.github.com">Github</a> and open a pull request
with the following branch settings:</p>
<ul>
<li>Base: <code>master</code></li>
<li>Compare: <code>hotfix-documentation-broken-links</code></li>
</ul>
</li>
<li>
<p>When the pull request has been reviewed and <img src="./figures/plus1.png" alt="+1'd" />
, merge and close it and then delete the <code>hotfix-documentation-broken-links</code>
branch. This can all be done from the Github pull-request page.</p>
</li>
</ol>
<h2 id="develop-in-a-platform-repo"><a class="header" href="#develop-in-a-platform-repo">Develop in a platform repo</a></h2>
<p>A platform repo contains both Progressive Mobile App and Progressive Mobile Web
source code.</p>
<p>The development process is the same as outlined above in
<a href="#develop-a-new-feature">Develop a new feature</a>.</p>
<p><strong>However</strong>, branches have to be prefixed based on the following rules:</p>
<ul>
<li><code>app-</code>, for changes mainly touching Progressive Mobile App code.</li>
<li><code>web-</code>, for changes mainly touching Progressive Mobile Web code.</li>
<li><code>platform-</code>, for changes touching both Progressive Mobile App and Web code.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../AntiPatterns/AntiPatterns.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../ReleaseDeployment/ReleaseDeployment.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../AntiPatterns/AntiPatterns.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../ReleaseDeployment/ReleaseDeployment.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
